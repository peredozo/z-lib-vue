(function(t){function e(e){for(var o,r,c=e[0],l=e[1],a=e[2],d=0,h=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var l=n[c];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},s={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var a=0;a<c.length;a++)e(c[a]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),s=n.n(o);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("hr"),n("h1",[t._v("z-notices demo")]),n("main",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testNotice(e)}}},[t._v("Notice")]),t._v(" / "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testNoticeRepeat(e)}}},[t._v("Unique notice")]),t._v(" / "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testNoticeCompo(e)}}},[t._v("Vue component notice")]),t._v(" / "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testAlert(e)}}},[t._v("Test alert")])]),n("z-notices",{staticClass:"alert",attrs:{g:"alert",timeout:0,reverse:!0}}),n("hr"),n("h1",[t._v("z-dialogs demo")]),n("main",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testDialog(e)}}},[t._v("Dialog")]),t._v(" / "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.testDialogCompo(e)}}},[t._v("Vue component dialog")])]),n("hr"),n("h1",[t._v("z-ws demo")]),n("main",[n("h2",[t._v("exmo.me rates:")]),t._l(t.ws2data,(function(e,o){return n("div",{key:"ws2-"+o,on:{click:function(n){return n.preventDefault(),t.copy(o+": "+e.buy_price)}}},[n("b",[t._v(t._s(o))]),t._v(" - "+t._s(e.buy_price)+" ")])})),n("h2",[t._v("blockchain.info UTX:")]),t._l(t.ws1data,(function(e,o){return n("div",{key:"ws1-"+o,on:{click:function(n){return n.preventDefault(),t.copy("TX: "+e.hash)}}},[t._v(" TX: "),n("b",[t._v(t._s(e.hash))]),t._v(" - "+t._s(e.val)+" BTC ")])}))],2),n("hr"),n("z-dialogs"),n("z-notices",{staticClass:"default",attrs:{repeat:!1,reverse:!1,closer:!0}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{attrs:{href:"https://github.com/peredozo/z-lib-vue"}},[t._v("Get sources from GitHub")])])}],r=(n("4160"),n("fb6a"),n("b680"),n("ac1f"),n("5319"),n("1276"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("Is Vue Component")]),n("div",[t._v("Timestamp: "),n("b",[t._v(t._s(t.ts))])]),t.test?n("div",[t._v("Prop: "),n("b",[t._v(t._s(t.test))])]):t._e(),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.dialog(e)}}},[t._v("Open dialog")])]),n("div",[t._v("Test")]),n("div",[t._v("Test")]),n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("Close me")])])])}),c=[],l={data:function(){return{ts:Date.now()}},props:["test"],methods:{close:function(){this.$emit("close")},dialog:function(){console.log("Add dialog from test component.",this),this.$d.add(h,{c:"fullpage",componentProps:{test:"fullpage dialog"}})}}},a=l,u=n("2877"),d=Object(u["a"])(a,r,c,!1,null,null,null),h=d.exports,p={data:function(){return{ws1data:[],ws2data:{}}},methods:{copy:function(t){var e=this;this.$copy(t,(function(){e.$n.add("Copied to clipboard: <b>"+t+"</b>",{reverse:!0,c:"success"})}))},testDialog:function(){this.$d.add("Dialog",{closerOutside:!1})},testDialogCompo:function(){this.$d.add(h,{componentProps:{test:"dialog"}})},testNoticeCompo:function(){this.$n.add(h,{reverse:!0,repeat:!0,componentProps:{test:"notice"}})},testNotice:function(){var t=["success","error","warn","info"],e=Math.random()>.5?this.$n.add("Current timestamp: "+Date.now()):this.$n.add({html:"Current <b>timestamp</b>: "+Date.now(),c:t[Math.round(Math.random()*(t.length-1))],timeout:1e3*(Math.round(20*Math.random())+1),closer:Math.random()>.5,reverse:Math.random()>.5,repeat:Math.random()>.5,on:{closed:function(t){console.log("Closed notice:",t)}}});console.log("Open notice:",e)},testNoticeRepeat:function(){var t=["success","error","warn","info"];this.$n.add({html:"I close another notices with same html and class.",c:t[Math.round(Math.random()*(t.length-1))]})},testAlert:function(){var t=["success","error","warn","info"];this.$n.add({g:"alert",html:'Send notice to another group (g="alert") and without automating close (:timeout="0").',c:t[Math.round(Math.random()*(t.length-1))]})}},created:function(){var t=this,e={parser:JSON.parse,formater:JSON.stringify,reconnect:function(t,e){setTimeout((function(){t()}),1e3*parseInt(5*(e-1)*Math.random()))}},n=this.$ws.create("wss://ws.blockchain.info/inv",e).on("open",(function(){console.log("Opened WS: blockchain.info"),n.send({op:"unconfirmed_sub"})})).on("message",(function(e){if("utx"==e.op&&e.x){var n=0;e.x.out.forEach((function(t){n+=t.value})),t.ws1data.unshift({hash:e.x.hash,val:parseFloat(n/Math.pow(10,8)).toFixed(8)}),t.ws1data=t.ws1data.slice(0,20)}})).on("error",(function(t){console.error(t)})).connect(),o=this.$ws.create("wss://ws-api.exmo.me/v1/public",e).on("open",(function(){console.log("Opened WS: exmo.me"),o.send({id:1,method:"subscribe",topics:["spot/ticker:BTC_USD","spot/ticker:ETH_USD","spot/ticker:LTC_USD","spot/ticker:XMR_USD"]})})).on("message",(function(e){if("update"==e.event&&e.topic&&e.data){var n=e.topic.split(":").reverse()[0].replace("_","-");t.ws2data[n]=e.data,console.log("New "+n+" retes from exmo.me")}})).on("error",(function(t){console.error(t)})).connect()}},f=p,m=(n("034f"),Object(u["a"])(f,s,i,!1,null,null,null)),g=m.exports,v=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("53ca")),y=n("d4ec"),b=n("bee2"),w={},_=function(){function t(e,n){Object(y["a"])(this,t),n||"object"!=Object(v["a"])(e)||(n=e,e=n.url||document.location.origin+"/"),/^(http|ws)s?:\/\//.test(e)||(e=new URL(e,document.baseURI).href),e=e.replace(/^http/,"ws"),this.c=null,this.emits={},this.retry=0,this.buf=[],this.closed=!1,this.conf=Object.assign({reconnect:null,parser:null,formater:null,url:e},n||{})}return Object(b["a"])(t,[{key:"_emit",value:function(t,e){var n=this;this.emits[t]&&this.emits[t].length&&this.emits[t].forEach((function(t){return t.call(n,e)}))}},{key:"on",value:function(t,e){return this.emits[t]=this.emits[t]||[],this.emits[t].push(e),this}},{key:"off",value:function(t,e){return this.emits[t]?(this.emits[t]=this.emits[t].filter((function(t){return t!==e})),this):this}},{key:"close",value:function(t){return this.closed=!0,this.c.close(t||1e3),this.c=null,this}},{key:"connect",value:function(){var t=this;return this.c&&this.close(),this.c=new WebSocket(this.conf.url),this.c.onopen=function(){t.closed=!1,t.retry=0,t.buf.length&&t.buf.forEach((function(e){return t.c.send(e)})),t.buf=[],t._emit("open")},this.c.onclose=function(e){t._emit("close",e),t.closed||"function"==typeof t.conf.reconnect&&t.conf.reconnect(t.connect.bind(t),++t.retry,e)},this.c.onerror=function(e){t._emit("error",e)},this.c.onmessage=function(e){if("function"==typeof t.conf.parser)try{e=t.conf.parser(e.data)}catch(n){return void t._emit("error",n)}t._emit("message",e)},this}},{key:"send",value:function(t){if("function"==typeof this.conf.formater)try{t=this.conf.formater(t)}catch(e){return this._emit("error",e),this}return this.c.readyState==WebSocket.OPEN?this.c.send(t):this.buf.push(t),this}}],[{key:"create",value:function(e,n){return new t(e,n)}},{key:"install",value:function(e,n){n=Object.assign({glob:"ws"},n||{}),e.prototype["$"+n.glob]=t}},{key:"glob",get:function(){return w}},{key:"VUE",get:function(){return{install:function(e,n){n=Object.assign({glob:"ws"},n||{}),e.prototype["$"+n.glob]=t}}}}]),t}(),O=_,T=(n("7db0"),n("d81d"),n("b0c0"),n("a9e3"),n("8ba4"),n("aff5"),n("c906"),n("38cf"),{lastId:0,items:[],groups:{},add:function(t,e){if(!t)return null;if(e||(e={}),"string"==typeof t?e.html=t:t.render&&t._compiled?e.component=t:"object"==Object(v["a"])(t)&&Object.assign(e,t),e.g||(e.g="main"),!e.html&&!e.component||!this.groups[e.g])return null;this.lastId>=Number.MAX_SAFE_INTEGER&&(this.lastId=0);var n={id:++this.lastId,needClose:!1,g:e.g,c:e.class||e.c||null,html:e.html||null,component:e.component||null,componentProps:e.componentProps||e.props||null,timeout:Number.isInteger(e.timeout)?e.timeout:this.groups[e.g].timeout,repeat:"boolean"==typeof e.repeat?e.repeat:this.groups[e.g].repeat,reverse:"boolean"==typeof e.reverse?e.reverse:this.groups[e.g].reverse,closer:"boolean"==typeof e.closer?e.closer:this.groups[e.g].closer,closerSwipe:"boolean"==typeof e.closerSwipe?e.closerSwipe:this.groups[e.g].closerSwipe,isText:"boolean"==typeof e.isText?e.isText:this.groups[e.g].isText,on:"object"==Object(v["a"])(e.on)&&Object.isExtensible(e.on)?e.on:{}};if(null===n.closerSwipe&&(n.closerSwipe=n.closer),!n.repeat){var o=this.items.find((function(t){return t.g===n.g&&t.html===n.html&&t.c===n.c}));o&&(o.needClose=!0)}return n.reverse?this.items.unshift(n):this.items.push(n),n.id},del:function(t){this.items=this.items.filter((function(e){return e.id!==t}))},clear:function(){this.items=[]}}),x={add:T.add.bind(T),del:T.del.bind(T),clear:T.clear.bind(T),install:function(t,e){e=Object.assign({name:"z-notices",glob:"n"},e||{}),t.prototype["$"+e.glob]={add:T.add.bind(T),del:T.del.bind(T),clear:T.clear.bind(T)};var n={};n[e.name+"-item"]={data:function(){return{touchStartPos:0,touchEndDelta:0,active:!0,timer:null,t:0,w:100,step:200}},props:{component:{},componentProps:{type:Object,default:null},html:{},needClose:{type:Boolean,default:!1},on:{type:Object,default:{}},isText:{type:Boolean,default:!1},id:{type:Number},c:{type:String,default:null},timeout:{type:Number},closer:{type:Boolean,default:!0},closerSwipe:{type:Boolean,default:null},closerHTML:{type:String}},watch:{needClose:function(){this.del()}},methods:{del:function(){this.active=!1,this.timer&&clearInterval(this.timer),this.on&&"function"==typeof this.on.closed&&this.on.closed(this.id),this.$emit("closed",this.id)},reset:function(){this.timeout&&this.active&&(this.timer&&clearInterval(this.timer),this.t=this.timeout,this.w=100)},resume:function(){var t=this;this.timeout&&this.active&&(this.reset(),this.timer=setInterval((function(){t.t-=t.step,t.w=100/t.timeout*t.t,t.t<0&&t.del()}),this.step))}},mounted:function(){this.timeout&&this.resume()},render:function(t){var n=this;return t("div",{class:this.c?[e.name+"-item",this.c]:e.name+"-item",on:Object.assign({},this.timeout?{mouseenter:this.reset,mouseleave:this.resume}:{},this.closerSwipe?{touchstart:function(t){n.touchStartPos=t.changedTouches[0].clientX,n.touchEndDelta=0,n.timeout&&n.reset()},touchend:function(t){n.touchStartPos!=t.changedTouches[0].clientX&&(Math.abs(n.touchEndDelta)>100?n.del():(n.$el.style.opacity="",n.$el.style.left="",n.timeout&&n.resume()))},touchcancel:function(){n.$el.style.left="",n.$el.style.opacity="",n.timeout&&n.resume()},touchmove:function(t){t.preventDefault(),n.touchEndDelta=t.changedTouches[0].clientX-n.touchStartPos;var e=Math.min(100,Math.max(-100,n.touchEndDelta));n.$el.style.opacity=1-Math.abs(.01*e),n.$el.style.left=e+"px"}}:{})},[this.component?t("div",{class:e.name+"-content"},[t(this.component,{props:this.componentProps||{},on:Object.assign({},this.on||{},{close:function(t){n.del(t),n.on.close&&n.on.close(t)}})})]):t("div",{class:e.name+"-content",domProps:this.isText?{innerText:this.html}:{innerHTML:this.html}}),this.closer?t("div",{class:e.name+"-closer",on:{click:this.del},domProps:{innerHTML:this.closerHTML}}):null,this.timeout?t("div",{class:e.name+"-timer"},[t("div",{class:e.name+"-timer-line",style:{transition:"width "+this.step+"ms linear",width:this.w+"%"}})]):null])}},t.component(e.name,{components:n,data:function(){return{notices:T}},props:{g:{type:String,default:"main"},timeout:{type:Number,default:5e3},reverse:{type:Boolean,default:!1},repeat:{type:Boolean,default:!1},closer:{type:Boolean,default:!0},closerSwipe:{type:Boolean,default:null},isText:{type:Boolean,default:!1},closerHTML:{type:String,default:'<svg viewBox="0 0 386.667 386.667" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m386.667 45.564-45.564-45.564-147.77 147.769-147.769-147.769-45.564 45.564 147.769 147.769-147.769 147.77 45.564 45.564 147.769-147.769 147.769 147.769 45.564-45.564-147.768-147.77z"/></svg>'}},computed:{itms:function(){var t=this;return this.notices.items.slice().filter((function(e){return e.g==t.g}))}},methods:{del:function(t){this.notices.del(t)}},created:function(){this.notices.groups[this.g]=Object.assign(this.notices.groups[this.g]||{},{timeout:this.timeout,repeat:this.repeat,closer:this.closer,closerSwipe:this.closerSwipe,reverse:this.reverse,isText:this.isText})},render:function(t){var n=this;return t("transition-group",{class:e.name,props:{tag:"div",name:e.name}},this.itms.map((function(o){return t(e.name+"-item",{props:Object.assign({closerHTML:n.closerHTML},o),key:o.id,on:{closed:n.del}})})))}})}},S=x,k={lastId:0,items:[],groups:{},add:function(t,e){if(!t)return null;if(e||(e={}),"string"==typeof t?e.html=t:t.render&&t._compiled?e.component=t:"object"==Object(v["a"])(t)&&Object.assign(e,t),e.g||(e.g="main"),!e.html&&!e.component||!this.groups[e.g])return null;this.lastId>=Number.MAX_SAFE_INTEGER&&(this.lastId=0);var n={id:++this.lastId,g:e.g,c:e.class||e.c||null,html:e.html||null,component:e.component||null,componentProps:e.componentProps||e.props||null,only:"boolean"==typeof e.only?e.only:this.groups[e.g].only,multi:"boolean"==typeof e.multi?e.multi:this.groups[e.g].multi,closer:"boolean"==typeof e.closer?e.closer:this.groups[e.g].closer,closerOutside:"boolean"==typeof e.closerOutside?e.closerOutside:this.groups[e.g].closerOutside,isText:"boolean"==typeof e.isText?e.isText:this.groups[e.g].isText,on:"object"==Object(v["a"])(e.on)&&Object.isExtensible(e.on)?e.on:{}};return null===n.closerOutside&&(n.closerOutside=n.closer),n.only&&(this.items=this.items.filter((function(t){return t.g!==n.g}))),this.items.push(n),n.id},del:function(t){this.items=this.items.filter((function(e){return e.id!==t}))},clear:function(){this.items=[]}},j={install:function(t,e){e=Object.assign({name:"z-dialogs",glob:"d"},e||{}),t.prototype["$"+e.glob]={add:k.add.bind(k),del:k.del.bind(k),clear:k.clear.bind(k)};var n={};n[e.name+"-item"]={props:{component:{},componentProps:{type:Object,default:null},html:{},needClose:{type:Boolean,default:!1},on:{type:Object,default:{}},isText:{type:Boolean,default:!1},id:{type:Number},c:{type:String,default:null},only:{type:Boolean,default:!1},multi:{type:Boolean,default:!1},closer:{type:Boolean,default:!0},closerOutside:{type:Boolean,default:null},closerHTML:{type:String}},watch:{needClose:function(){this.del()}},methods:{del:function(){this.on&&"function"==typeof this.on.closed&&this.on.closed(this.id),this.$emit("closed",this.id)}},data:function(){return{mouseClickStart:null}},render:function(t){var n=this,o=[e.name+"-item"];return this.closer&&o.push(e.name+"-item-with-closer"),this.c&&o.push(this.c),t("div",{class:o,on:this.closerOutside?{mousedown:function(t){0==t.button&&(n.mouseClickStart={x:t.x,y:t.y})},mouseup:function(t){0==t.button&&n.mouseClickStart&&n.mouseClickStart.x==t.x&&n.mouseClickStart.y==t.y&&n.del(),n.mouseClickStart=null}}:{}},[t("div",{class:e.name+"-wrap"},[t("div",{class:e.name+"-dialog",on:{mousedown:function(t){t.stopPropagation()}}},[this.component?t("div",{class:e.name+"-content"},[t(this.component,{props:this.componentProps||{},on:Object.assign({},this.on||{},{close:function(t){n.del(t),n.on.close&&n.on.close(t)}})})]):t("div",{class:e.name+"-content",domProps:this.isText?{innerText:this.html}:{innerHTML:this.html}}),this.closer?t("div",{class:e.name+"-closer",on:{click:this.del},domProps:{innerHTML:this.closerHTML}}):null])])])}},t.component(e.name,{components:n,data:function(){return{dialogs:k}},props:{g:{type:String,default:"main"},only:{type:Boolean,default:!1},multi:{type:Boolean,default:!1},closer:{type:Boolean,default:!0},closerOutside:{type:Boolean,default:null},isText:{type:Boolean,default:!1},bodyScroll:{type:Boolean,default:!1},closerHTML:{type:String,default:'<svg viewBox="0 0 386.667 386.667" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m386.667 45.564-45.564-45.564-147.77 147.769-147.769-147.769-45.564 45.564 147.769 147.769-147.769 147.77 45.564 45.564 147.769-147.769 147.769 147.769 45.564-45.564-147.768-147.77z"/></svg>'}},computed:{itms:function(){var t=this;return this.dialogs.items.slice().filter((function(e){return e.g==t.g}))}},methods:{del:function(t){this.dialogs.del(t)}},created:function(){this.dialogs.groups[this.g]=Object.assign(this.dialogs.groups[this.g]||{},{only:this.only,closer:this.closer,closerOutside:this.closerOutside,isText:this.isText})},watch:{itms:function(){this.bodyScroll||(this.itms.length?document.body.classList.add(e.name+"-body-have-dialogs"):document.body.classList.remove(e.name+"-body-have-dialogs"))}},render:function(t){var n=this;return t("div",{class:e.name},this.itms.map((function(o,s){return t("transition",{props:{name:e.name}},[t("keep-alive",[n.dialogs.multi||o.multi||s==n.itms.length-1?t(e.name+"-item",{props:Object.assign({closerHTML:n.closerHTML},o),key:o.id,on:{closed:n.del}}):null])])})))}})}},M=j,C={_copy_v1:function(t,e,n){return new Promise((function(o,s){try{navigator.clipboard.writeText(t).then((function(){o(!0),"function"===typeof e&&e(!0)})).catch((function(){C._copy_v2(t,e,n).then(o).catch(s)}))}catch(i){C._copy_v2(t,e,n).then(o).catch(s)}}))},_copy_v2:function(t,e,n){return new Promise((function(o,s){window.getSelection().removeAllRanges();var i=document.createElement("div");i.style.position="fixed",i.style.opacity=0,i.innerHTML=t,document.body.appendChild(i);try{var r=document.createRange();r.selectNode(i),window.getSelection().addRange(r);var c=document.execCommand("copy");o(c),"function"===typeof e&&e(c)}catch(l){s(l),"function"===typeof n&&n(l)}window.getSelection().removeAllRanges(),document.body.removeChild(i)}))},copy:function(t,e,n){return navigator.clipboard&&"function"===typeof navigator.clipboard.writeText?C._copy_v1(t,e,n):C._copy_v2(t,e,n)},install:function(t,e){this.VUE.install(t,e)},VUE:{install:function(t,e){e=Object.assign({glob:"copy"},e||{}),t.prototype["$"+e.glob]=C.copy}}},P=C;o["a"].use(O,{glob:"ws"}),o["a"].use(S,{glob:"n",name:"z-notices"}),o["a"].use(M,{glob:"d",name:"z-dialogs"}),o["a"].use(P,{glob:"copy"}),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(g)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.8881aa70.js.map